<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Run My Python (Pyodide)</title>
    <script type="module">
      import { loadPyodide } from "https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.mjs";
      let pyodideReady = loadPyodide();

      function shuffle(array) {
        const a = array.slice();
        for (let i = a.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
      }

      const ansChoices = shuffle([
            "The coming of the French and English",
            "The Critical Period: from Confederation to Constitution", 
            "The Revolutionary Era",
            "The coming of the Spanish",
            "The colonial period"
          ]);
      const ansChoices2 = shuffle([
            "Manifest Destiny",
            "The Civil War", 
            "Jeffersonian Republicanism",
            "Reconstruction",
            "The Gilded Age",
            "The Industrial Revolution",
            "The 2nd Industrial Revolution",
            "Sectionalism",
            "Era of Good Feelings",
            "Era of the Common Man/Age of Jackson"
          ]);
      const ansChoices3 = shuffle([
            "Information Age",
            "The Progressive Era", 
            "The Great Depression",
            "Age of Imperialism",
            "Civil Rights Movement",
            "War on Terror",
            "World War II",
            "The Vietnam Era",
            "World War I",
            "The Cold War"
          ]);
      
      function renderChoices(shuffled) {      
        const container = document.getElementById("choices");
        container.innerHTML = ""; // clear
        var i = 1;
        shuffled.forEach(choice => {
          const p = document.createElement("p");
          p.textContent = i.toString() +". " + choice;
          container.appendChild(p);
          i++;
        });
      }
      function renderChoices2(shuffled) {      
        const container = document.getElementById("choices2");
        container.innerHTML = ""; // clear
        var i = 1;
        shuffled.forEach(choice => {
          const p = document.createElement("p");
          p.textContent = i.toString() +". " + choice;
          container.appendChild(p);
          i++;
        });
      }
      function renderChoices3(shuffled) {      
        const container = document.getElementById("choices3");
        container.innerHTML = ""; // clear
        var i = 1;
        shuffled.forEach(choice => {
          const p = document.createElement("p");
          p.textContent = i.toString() +". " + choice;
          container.appendChild(p);
          i++;
        });
      }
      async function runScript() {
        const out = document.getElementById("out");
        out.textContent = "Running…";
        try {
          const pyodide = await pyodideReady;

          // If you need pure-Python packages from PyPI (no native code), you can micropip-install like this:
          // await pyodide.loadPackage("micropip");
          // await pyodide.runPythonAsync(`
          //   import micropip
          //   await micropip.install("some-pure-python-package")
          // `);

          // Collect inputs (edit these IDs to match your UI)
          const A1 = document.getElementById("A1").value.trim();
          const B1 = document.getElementById("B1").value.trim();
          const C1 = document.getElementById("C1").value.trim();
          const D1 = document.getElementById("D1").value.trim();
          const E1 = document.getElementById("E1").value.trim();

          // ---------- Your prewritten Python goes here ----------
          const code = `
def checkAns(a1: str, b1: str, c1: str, d1: str, e1: str, ans) -> str:
    if(not (a1 and b1 and c1 and d1 and e1)):
        return "Please fill in all fields."
    score = 0
    if(ans[int(a1)-1] == "The coming of the Spanish"):
        score += 1
    if(ans[int(b1)-1] == "The coming of the French and English"):
        score += 1
    if(ans[int(c1)-1] == "The colonial period"):
        score += 1
    if(ans[int(d1)-1] == "The Revolutionary Era"):
        score += 1
    if(ans[int(e1)-1] == "The Critical Period: from Confederation to Constitution"):
        score += 1
    return str(score) + "/5, reload the page to reshuffle"

checkAns("${A1.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${B1.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${C1.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${D1.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${E1.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", ${JSON.stringify(ansChoices)})
`;
          const result = await pyodide.runPythonAsync(code);
          out.textContent = String(result);
        } catch (e) {
          out.textContent = "Error: " + e;
        }
      }
      async function runScript2() {
        const out = document.getElementById("out2");
        out.textContent = "Running…";
        try {
          const pyodide = await pyodideReady;

          // If you need pure-Python packages from PyPI (no native code), you can micropip-install like this:
          // await pyodide.loadPackage("micropip");
          // await pyodide.runPythonAsync(`
          //   import micropip
          //   await micropip.install("some-pure-python-package")
          // `);

          // Collect inputs (edit these IDs to match your UI)
          const A2 = document.getElementById("A2").value.trim();
          const B2 = document.getElementById("B2").value.trim();
          const C2 = document.getElementById("C2").value.trim();
          const D2 = document.getElementById("D2").value.trim();
          const E2 = document.getElementById("E2").value.trim();
          const F2 = document.getElementById("F2").value.trim();
          const G2 = document.getElementById("G2").value.trim();
          const H2 = document.getElementById("H2").value.trim();
          const I2 = document.getElementById("I2").value.trim();
          const J2 = document.getElementById("J2").value.trim();

          // ---------- Your prewritten Python goes here ----------
          const code = `
def checkAns(a1: str, b1: str, c1: str, d1: str, e1: str, f1: str, g1: str, h1: str, i1: str, j1: str,ans) -> str:
    if(not (a1 and b1 and c1 and d1 and e1 and f1 and g1 and h1 and i1 and j1)):
        return "Please fill in all fields."
    score = 0
    if(ans[int(a1)-1] == "Jeffersonian Republicanism"):
        score += 1
    if(ans[int(b1)-1] == "Era of Good Feelings"):
        score += 1
    if(ans[int(c1)-1] == "Sectionalism"):
        score += 1
    if(ans[int(d1)-1] == "The Industrial Revolution"):
        score += 1
    if(ans[int(e1)-1] == "Era of the Common Man/Age of Jackson"):
        score += 1
    if(ans[int(f1)-1] == "Manifest Destiny"):
        score += 1
    if(ans[int(g1)-1] == "The Civil War"):
        score += 1
    if(ans[int(h1)-1] == "Reconstruction"):
        score += 1
    if(ans[int(i1)-1] == "The Gilded Age"):
        score += 1
    if(ans[int(j1)-1] == "The 2nd Industrial Revolution"):
        score += 1
    return str(score) + "/10, reload the page to reshuffle"

checkAns("${A2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${B2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${C2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${D2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${E2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${F2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${G2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${H2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${I2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${J2.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", ${JSON.stringify(ansChoices2)})
`;
          const result = await pyodide.runPythonAsync(code);
          out.textContent = String(result);
        } catch (e) {
          out.textContent = "Error: " + e;
        }
      }

      async function runScript3() {
        const out = document.getElementById("out3");
        out.textContent = "Running…";
        try {
          const pyodide = await pyodideReady;

          // If you need pure-Python packages from PyPI (no native code), you can micropip-install like this:
          // await pyodide.loadPackage("micropip");
          // await pyodide.runPythonAsync(`
          //   import micropip
          //   await micropip.install("some-pure-python-package")
          // `);

          // Collect inputs (edit these IDs to match your UI)
          
          const A3 = document.getElementById("A3").value.trim();
          const B3 = document.getElementById("B3").value.trim();
          const C3 = document.getElementById("C3").value.trim();
          const D3 = document.getElementById("D3").value.trim();
          const E3 = document.getElementById("E3").value.trim();
          const F3 = document.getElementById("F3").value.trim();
          const G3 = document.getElementById("G3").value.trim();
          const H3 = document.getElementById("H3").value.trim();
          const I3 = document.getElementById("I3").value.trim();
          const J3 = document.getElementById("J3").value.trim();

          // ---------- Your prewritten Python goes here ----------
          const code = `
def checkAns(a1: str, b1: str, c1: str, d1: str, e1: str, f1: str, g1: str, h1: str, i1: str, j1: str,ans) -> str:
    if(not (a1 and b1 and c1 and d1 and e1 and f1 and g1 and h1 and i1 and j1)):
        return "Please fill in all fields."
    score = 0
    if(ans[int(a1)-1] == "Age of Imperialism"):
        score += 1
    if(ans[int(b1)-1] == "The Progressive Era"):
        score += 1
    if(ans[int(c1)-1] == "World War I"):
        score += 1
    if(ans[int(d1)-1] == "The Great Depression"):
        score += 1
    if(ans[int(e1)-1] == "World War II"):
        score += 1
    if(ans[int(f1)-1] == "The Cold War"):
        score += 1
    if(ans[int(g1)-1] == "The Vietnam Era"):
        score += 1
    if(ans[int(h1)-1] == "Civil Rights Movement"):
        score += 1
    if(ans[int(i1)-1] == "Information Age"):
        score += 1
    if(ans[int(j1)-1] == "War on Terror"):
        score += 1
    return str(score) + "/10, reload the page to reshuffle"

checkAns("${A3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${B3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${C3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${D3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${E3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${F3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${G3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${H3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${I3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", "${J3.replace(/\\/g, "\\\\").replace(/`/g, "\\`")}", ${JSON.stringify(ansChoices3)})
`;
          const result = await pyodide.runPythonAsync(code);
          out.textContent = String(result);
        } catch (e) {
          out.textContent = "Error: " + e;
        }
      }
      window.runScript = runScript;
      document.addEventListener("DOMContentLoaded", () => {
        renderChoices(ansChoices);   // writes into #choices
        renderChoices2(ansChoices2); // writes into #choices2
        renderChoices3(ansChoices3); // writes into #choices3
      });
    </script>
    <style>
      :root { color-scheme: light dark; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, sans-serif;
             max-width: 720px; margin: 2rem auto; padding: 0 1rem; }
      h1 { font-size: clamp(1.6rem, 2.5vw + 1rem, 2.2rem); margin-bottom: .25rem; }
      p.lead { opacity: .8; margin-top: 0; }
      .card { background: rgba(0,0,0,.03); padding: 1rem; border-radius: 12px; }
      input, button, textarea { font: inherit; padding: .6rem .8rem; border-radius: 10px;
                                border: 1px solid rgba(0,0,0,.15); }
      button { cursor: pointer; }
      #out { white-space: pre-wrap; min-height: 2.5rem; }
      #out2 { white-space: pre-wrap; min-height: 2.5rem; }
      #out3 { white-space: pre-wrap; min-height: 2.5rem; }
      footer { margin-top: 2rem; opacity: .7; font-size: .9rem; }
      code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
    </style>
  </head>
  <body>
    <h1>Practice for the APUSH timeline test :D</h1>

    <div class="card">
      <img src="timeline1.png" alt="first timeline" width="500"><br>
      <div id="choices"></div>
      <label for="A1">A</label>
      <input id="A1" placeholder="1 to 5" /><br>
      <label for="B1">B</label>
      <input id="B1" placeholder="1 to 5" /><br>
      <label for="C1">C</label>
      <input id="C1" placeholder="1 to 5" /><br>
      <label for="D1">D</label>
      <input id="D1" placeholder="1 to 5" /><br>
      <label for="E1">E</label>
      <input id="E1" placeholder="1 to 5" /><br>
      <button onclick="runScript()">Check Answer</button>
      <div id="out" style="margin-top: .8rem;">Output will appear here…</div><br>
      <img src="timeline2.png" alt="first timeline" width="500"><br>
      <div id="choices2"></div>
      <label for="A2">A</label>
      <input id="A2" placeholder="1 to 10" /><br>
      <label for="B2">B</label>
      <input id="B2" placeholder="1 to 10" /><br>
      <label for="C2">C</label>
      <input id="C2" placeholder="1 to 10" /><br>
      <label for="D2">D</label>
      <input id="D2" placeholder="1 to 10" /><br>
      <label for="E2">E</label>
      <input id="E2" placeholder="1 to 10" /><br>
      <label for="F2">F</label>
      <input id="F2" placeholder="1 to 10" /><br>
      <label for="G2">G</label>
      <input id="G2" placeholder="1 to 10" /><br>
      <label for="H2">H</label>
      <input id="H2" placeholder="1 to 10" /><br>
      <label for="I2">I</label>
      <input id="I2" placeholder="1 to 10" /><br>
      <label for="J2">J</label>
      <input id="J2" placeholder="1 to 10" /><br>
      <button onclick="runScript2()">Check Answer</button>
      <div id="out2" style="margin-top: .8rem;">Output will appear here…</div><br>
      <img src="timeline3.png" alt="first timeline" width="500"><br>
      <div id="choices3"></div>
      <label for="A3">A</label>
      <input id="A3" placeholder="1 to 10" /><br>
      <label for="B3">B</label>
      <input id="B3" placeholder="1 to 10" /><br>
      <label for="C3">C</label>
      <input id="C3" placeholder="1 to 10" /><br>
      <label for="D3">D</label>
      <input id="D3" placeholder="1 to 10" /><br>
      <label for="E3">E</label>
      <input id="E3" placeholder="1 to 10" /><br>
      <label for="F3">F</label>
      <input id="F3" placeholder="1 to 10" /><br>
      <label for="G3">G</label>
      <input id="G3" placeholder="1 to 10" /><br>
      <label for="H3">H</label>
      <input id="H3" placeholder="1 to 10" /><br>
      <label for="I3">I</label>
      <input id="I3" placeholder="1 to 10" /><br>
      <label for="J3">J</label>
      <input id="J3" placeholder="1 to 10" /><br>
      <button onclick="runScript3()">Check Answer</button>
      <div id="out3" style="margin-top: .8rem;">Output will appear here…</div><br>
      <p> ver 1</p>
    </div>
  </body>
</html>
